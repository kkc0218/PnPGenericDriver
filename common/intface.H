#ifndef _COMMON_H_
#define _COMMON_H_
#include <initguid.h>
// Device Interface GUID를 정의합니다
DEFINE_GUID(SampleGuid, 0x5665dec0, 0xa40a, 0x11d1, 0xb9, 0x84, 0x0, 0x20, 0xaf, 0xd7, 0x97, 0x70);
typedef struct _IOCTL_PNPGENERIC_GET_RESOURCE_INFO
{
#define MAX_RES_COUNT   (10)
    ULONG Count;
    CM_PARTIAL_RESOURCE_DESCRIPTOR PartialDescriptors[MAX_RES_COUNT];
}IOCTL_PNPGENERIC_GET_RESOURCE_INFO, * PIOCTL_PNPGENERIC_GET_RESOURCE_INFO;

#define IOCTL_PNPGENERIC_GET_RESOURCE	CTL_CODE(FILE_DEVICE_UNKNOWN, 0x800, METHOD_BUFFERED, FILE_ANY_ACCESS)

typedef struct _IOCTL_PNPGENERIC_MEMORY_ACCESS_INFO
{
    PHYSICAL_ADDRESS    PhysicalAddress;
    ULONGLONG           Offset;
    ULONGLONG           Length;
#define MAX_MEMORY_ACCESS_COUNT   (0x10000) // 64KB
    unsigned char       Buffer[MAX_MEMORY_ACCESS_COUNT];
}IOCTL_PNPGENERIC_MEMORY_ACCESS_INFO, * PIOCTL_PNPGENERIC_MEMORY_ACCESS_INFO;

typedef struct _IOCTL_PNPGENERIC_CONNECT_INTERRUPT_INFO
{
    HANDLE hEvent;
}IOCTL_PNPGENERIC_CONNECT_INTERRUPT_INFO, * PIOCTL_PNPGENERIC_CONNECT_INTERRUPT_INFO;

#define IOCTL_PNPGENERIC_GET_RESOURCE	       CTL_CODE(FILE_DEVICE_UNKNOWN, 0x800, METHOD_BUFFERED, FILE_ANY_ACCESS)
#define IOCTL_PNPGENERIC_MEMORY_READ	       CTL_CODE(FILE_DEVICE_UNKNOWN, 0x801, METHOD_BUFFERED, FILE_ANY_ACCESS)
#define IOCTL_PNPGENERIC_MEMORY_WRITE          CTL_CODE(FILE_DEVICE_UNKNOWN, 0x802, METHOD_BUFFERED, FILE_ANY_ACCESS)
#define IOCTL_PNPGENERIC_CONNECT_INTERRUPT     CTL_CODE(FILE_DEVICE_UNKNOWN, 0x803, METHOD_BUFFERED, FILE_ANY_ACCESS)   
#define IOCTL_PNPGENERIC_DISCONNECT_INTERRUPT  CTL_CODE(FILE_DEVICE_UNKNOWN, 0x804, METHOD_BUFFERED, FILE_ANY_ACCESS)    
#define IOCTL_PNPGENERIC_GENERATE_INTERRUPT    CTL_CODE(FILE_DEVICE_UNKNOWN, 0x900, METHOD_BUFFERED, FILE_ANY_ACCESS)
#endif // _COMMON_H_
